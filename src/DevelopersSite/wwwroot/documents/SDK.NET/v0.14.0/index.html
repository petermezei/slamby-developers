<h1 id="slamby-sdk-net-v0-14">Slamby SDK .NET v0.14</h1>
<p>Slamby .NET SDK and NuGet Package.
This project is open source. Please check the documentation and <a href="http://www.slamby.com/Community">join</a> to the community group.</p>
<p>GitHub Slamby page: <a href="https://github.com/slamby">www.github.com/slamby</a>
GitHub page:  <a href="https://github.com/slamby/slamby-sdk-net">www.github.com/slamby/slamby-sdk-net</a></p>
<h2 id="changelog">Changelog</h2>
<h3 id="features">Features</h3>
<ul>
<li>added ParallelLimit property to Configuration</li>
<li>ability to limit numbers of thread used in certain functions</li>
</ul>
<hr>
<h2 id="general">General</h2>
<h3 id="request-basics">Request Basics</h3>
<p>Configuration example:</p>
<pre><code class="lang-cs">var configuration = new Configuration
    {
        ApiBaseEndpoint = new Uri(&quot;https://api.slamby.com/CLIENT_ID/&quot;),
        ApiSecret = &quot;API_KEY&quot;
    };
</code></pre>
<p>You have to use this <code>configuration</code> object for every <code>Manager</code>.</p>
<p>You can find more details about the Authentication <a href="http://developers.slamby.com/api/#authentication">here</a></p>
<p>Slamby SDK.NET sends its version information to the API for version matching. Major and minor values should match in order to prevent version incompatibility. </p>
<p><code>ParallelLimit</code> property enables you to limit or maximize CPU usage in certain functions. Limit value should be greater than zero in order to be sent.</p>
<blockquote>
<p><strong>Note:</strong> In some cases API can limit your value if your configuration cannot handle it efficiently</p>
</blockquote>
<h3 id="response-basics">Response Basics</h3>
<p>Every request returns one of the following results:</p>
<pre><code class="lang-cs">public class ClientResponse
{
    public bool IsSuccessFul { get; set; }
    public HttpStatusCode HttpStatusCode { get; set; }
    public string ServerMessage { get; set; }
    public ErrorsModel Errors { get; set; }
    public string ApiVersion { get; set; }
}

public class ClientResponseWithObject&lt;T&gt; : ClientResponse
{
    public T ResponseObject { get; set; }
}
</code></pre>
<h3 id="logging">Logging</h3>
<p>Logging raw request and response message with <code>RawMessagePublisher</code>. 
Currently <code>DebugSubscriber</code> is available  which writes messages to <strong>debug output</strong>. Custom subscribers can be created via implementing <code>IRawMessageSubscriber</code> interface.</p>
<p><em>Example:</em></p>
<pre><code>IRawMessageSubscriber subscriber = new DebugSubscriber();
RawMessagePublisher.Instance.AddSubscriber(subscriber);

// API calls

RawMessagePublisher.Instance.RemoveSubscriber(subscriber);
</code></pre><p><em>Output:</em></p>
<pre><code>REQUEST #63592531131529252663115
----------------------
POST http://localhost:29689/api/tags
Headers:
Accept|application/json
Authorization|Slamby API_KEY
X-DataSet|test1

Content:  
{&quot;Id&quot;:&quot;999&quot;,&quot;Name&quot;:&quot;tag&quot;,&quot;ParentTagId&quot;:null,&quot;Properties&quot;:null}
</code></pre><h3 id="async-methods">Async methods</h3>
<p>In all the <code>Manager</code> class there are async methods. If you would like to use in a synchronized way, you can get the <code>Result</code> object of the task.</p>
<p><em>Example:</em></p>
<pre><code>var dataset = manager.GetDataSetAsync().Result;
</code></pre><h2 id="dataset">Dataset</h2>
<p>Slamby provides <strong>Dataset</strong> as a data storage. A dataset is a JSON document storage that allows to store schema free JSON objects, indexes and additional parameters. Inside your server you can create and manage multiple datasets.</p>
<p>You can find more details about the Datasets <a href="http://developers.slamby.com/api/#datasets">here.</a></p>
<h3 id="create-new-dataset">Create new Dataset</h3>
<p>Create a new dataset by providing a sample JSON document and additional parameters.</p>
<p><em>Example:</em></p>
<pre><code>var manager = new DataSetManager(configuration);
var dataset = new Models.DataSet
            {
                IdField = &quot;id&quot;,
                Name = &quot;name&quot;,
                NGramCount = 2,
                InterpretedFields = new List&lt;string&gt; { &quot;title&quot;, &quot;desc&quot; },
                TagField = &quot;tag&quot;,
                SampleDocument = new
                {
                    id = 10,
                    title = &quot;Example Product Title&quot;,
                    desc = &quot;Example Product Description&quot;,
                    tag = [1,2,3]
                }
            }
var response = await manager.CreateDataSetAsync(dataset);
if (!response.IsSuccessFul)
{
    // handle error with the help of the Errors property in the response
}
</code></pre><h3 id="get-dataset">Get Dataset</h3>
<p>Get information about a given dataset. A dataset can be accessed by its name.</p>
<p><em>Example:</em></p>
<pre><code>var manager = new DataSetManager(configuration);
var dataset = await manager.GetDataSetAsync();
</code></pre><h3 id="get-dataset-list">Get Dataset List</h3>
<p>Get a list of the available datasets.</p>
<p><em>Example:</em></p>
<pre><code>var manager = new DataSetManager(configuration);
var datasets = await manager.GetDataSetsAsync();
</code></pre><h3 id="remove-dataset">Remove Dataset</h3>
<p>Removes a given dataset. All the stored data will be removed.</p>
<p><em>Example:</em></p>
<pre><code>var manager = new DataSetManager(configuration);
var result = await manager.DeleteDataSetAsync(&quot;DATASET_NAME&quot;);
</code></pre><h2 id="document">Document</h2>
<p>Manage your <strong>documents</strong> easily. Create, edit, remove and running text analysis.</p>
<p>You can find more details about the Documents <a href="http://developers.slamby.com/api/#documents">here.</a></p>
<h3 id="insert-new-document">Insert New Document</h3>
<p>Insert a new document to a dataset using the predefined schema.</p>
<p><em>Example:</em></p>
<pre><code>var manager = new DocumentManager(configuration, &quot;DATASET_NAME&quot;);
var document = new
            {
                id = &quot;42&quot;,
                title = &quot;Example Product Title&quot;,
                desc = &quot;Example Product Description&quot;,
                tag = [2,7]
            };
var result = await manager.CreateDocumentAsync(document);
</code></pre><h3 id="get-document">Get Document</h3>
<p>Get a document from a dataset.</p>
<p><em>Example:</em></p>
<pre><code>var manager = new DocumentManager(configuration, &quot;DATASET_NAME&quot;);
var result = await manager.GetDocumentAsync(&quot;DOCUMENT_ID&quot;);
</code></pre><h3 id="get-document-list">Get Document List</h3>
<p>Get document list from a dataset.</p>
<p><em>Example:</em></p>
<pre><code>var manager = new DocumentManager(configuration, &quot;DATASET_NAME&quot;);
var result = await manager.GetDocumentsAsync();
</code></pre><h3 id="edit-document">Edit Document</h3>
<p>Edit an existing document in a dataset.</p>
<p><em>Example:</em></p>
<pre><code>var manager = new DocumentManager(configuration, &quot;DATASET_NAME&quot;);
var document = new
            {
                id = &quot;45&quot;,
                title = &quot;Example Modified Product Title&quot;,
                desc = &quot;Example Modified Product Description&quot;,
                tag = &quot;2&quot;
            };
var result = await manager.UpdateDocumentAsync(&quot;45&quot;, document);
</code></pre><h3 id="copy-to">Copy To</h3>
<p>Copying documents from a dataset to another one. You can specify the documents by id. You can copy documents to an existing dataset.
The selected documents will <strong>remain in the source dataset</strong> as well.</p>
<blockquote>
<p><strong>Tip:</strong> You can limit used thread count for this function in the configuration object</p>
</blockquote>
<p><em>Example:</em></p>
<pre><code>var manager = new DocumentManager(configuration, &quot;DATASET_NAME&quot;);
var settings = new DocumentCopySettings()
{
    Ids = new List&lt;string&gt; { &quot;5&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;, &quot;9&quot; },
    TargetDataSetName = &quot;TARGET_DATASET_NAME&quot;
};
var result = await manager.CopyDocumentsToAsync(settings);
</code></pre><blockquote>
<p><strong>Tip:</strong> You can use the <code>Documents/Sample</code> or the <code>Documents/Filter</code> methods to get document ids easily.</p>
</blockquote>
<h3 id="move-to">Move To</h3>
<p>Moving documents from a dataset to another one. You can specify documents by id. You can move documents to an existing dataset. 
The selected documents will be <strong>removed from the source dataset</strong>.</p>
<blockquote>
<p><strong>Tip:</strong> You can limit used thread count for this function in the configuration object</p>
</blockquote>
<p><em>Example:</em></p>
<pre><code>var manager = new DocumentManager(configuration, &quot;DATASET_NAME&quot;);
var settings = new DocumentMoveSettings()
{
    Ids = new List&lt;string&gt; { &quot;5&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;, &quot;9&quot; },
    TargetDataSetName = &quot;TARGET_DATASET_NAME&quot;
};
var result = await manager.MoveDocumentsToAsync(settings);
</code></pre><blockquote>
<p><strong>Tip:</strong> You can use the <code>Documents/Sample</code> or the <code>Documents/Filter</code> methods to get document ids easily.</p>
</blockquote>
<h3 id="bulk-documents">Bulk Documents</h3>
<p>Inserts mass documents to a dataset using the predefined schema.</p>
<blockquote>
<p><strong>Tip:</strong> You can limit used thread count for this function in the configuration object</p>
</blockquote>
<p><em>Example:</em></p>
<pre><code>var settings = new DocumentBulkSettings()
                    {
                        Documents = myNewDocumentsList
                    };
var manager = new DocumentManager(configuration, &quot;DATASET_NAME&quot;);
var result = await manager.BulkDocumentsAsync(settings);
</code></pre><h2 id="tags">Tags</h2>
<p>Manage tags to organize your data. Using tags create a tag cloud or a hierarchical tag tree.</p>
<p>You can find more details about the Tags <a href="http://developers.slamby.com/api/#tags">here</a>.</p>
<h3 id="create-new-tag">Create New Tag</h3>
<p>Create a new tag in a dataset.</p>
<p><em>Example:</em></p>
<pre><code>var manager = new TagManager(configuration, &quot;DATASET_NAME&quot;);
var tag = new Tag
            {
                Id = &quot;3&quot;,
                Name = &quot;example tag 1&quot;,
                ParentId = null
            };
var result = await manager.CreateTagAsync(tag);
</code></pre><h3 id="get-tag">Get Tag</h3>
<p>Get a tag by its Id.</p>
<p><em>Example:</em></p>
<pre><code>var manager = new TagManager(configuration, &quot;DATASET_NAME&quot;);
var result = await manager.GetTagAsync(&quot;3&quot;);
</code></pre><h3 id="get-tag-list">Get Tag List</h3>
<p>Get all tags list from a given dataset.</p>
<p><em>Example:</em></p>
<pre><code>var manager = new TagManager(configuration, &quot;DATASET_NAME&quot;);
var result = await manager.GetTagsAsync();
</code></pre><h3 id="update-tag">Update Tag</h3>
<p>Update a tag by new values.</p>
<p><em>Example:</em></p>
<pre><code>var manager = new TagManager(configuration, &quot;DATASET_NAME&quot;);
var tag = new Tag
            {
                Id = &quot;5&quot;,
                Name = &quot;tag2&quot;
            };
var result = await manager.UpdateTagAsync(&quot;3&quot;, tag);
</code></pre><blockquote>
<p><strong>Tip:</strong> You can also change the <code>Id</code> of the object, as you can see in the example.</p>
</blockquote>
<h3 id="remove-tag">Remove Tag</h3>
<p>Remove a tag from tag list. By default, documents and datasets are not affected.
The method have two additional parameter:</p>
<ul>
<li><code>force</code> - if true then the tag with children can be deleted, but be careful! All the children will be deleted also.</li>
<li><code>cleanDocuments</code> - if true then the removed tag will be also removed from the documents</li>
</ul>
<p><em>Example:</em></p>
<pre><code>var manager = new TagManager(configuration, &quot;DATASET_NAME&quot;);
var result = await manager.DeleteTagAsync(&quot;5&quot;);
</code></pre><h3 id="bulk-tag">Bulk Tag</h3>
<p>Replaces existing tags with the provided list. Recommended for tag list initalizing.</p>
<blockquote>
<p><strong>Tip:</strong> You can limit used thread count for this function in the configuration object</p>
</blockquote>
<p><em>Example:</em></p>
<pre><code>var settings = new TagBulkSettings()
                    {
                        Tags = myImportTagList
                    };
var manager = new TagManager(configuration, &quot;DATASET_NAME&quot;);
var result = await manager.BulkTagsAsync(settings);
</code></pre><h3 id="clean-documents">Clean Documents</h3>
<p>Remove all not existing tags from the documents.</p>
<p><em>Example:</em></p>
<pre><code>var manager = new TagManager(configuration, &quot;DATASET_NAME&quot;);
var result = await manager.CleanDocumentsAsync();
</code></pre><h3 id="words-occurences">Words Occurences</h3>
<p>Get words and the occurences of the words.</p>
<p><em>Example:</em></p>
<pre><code>var manager = new TagManager(configuration, &quot;DATASET_NAME&quot;);
var settings = new TagsExportWordsSettings {
    NGramList = new List&lt;int&gt; { 1, 2 },
    TagIdList = new List&lt;string&gt; { &quot;123&quot;, &quot;44&quot; }
};
var resultProcess = await manager.WordsExportAsync(settings);
</code></pre><h2 id="sampling">Sampling</h2>
<p>Statistical method to support sampling activity. Using sampling you can easily create <strong>random samples</strong> for experiments.</p>
<p>You can find more details about the Sampling mechanism <a href="http://developers.slamby.com/api/#sampling">here.</a></p>
<p><em>Example:</em></p>
<pre><code>var manager = new DocumentManager(configuration, &quot;DATASET_NAME&quot;);
var settings = new DocumentSampleSettings {
              Id = Guid.NewGuid().ToString(),
              IsStratified = false,
              Percent = 0,
              Size = 15000,
              TagIds = new List&lt;string&gt;(),
              Pagination = new Pagination {
                  Offset = 0,
                  Limit = 100,
                  OrderDirection = OrderDirectionEnum.Asc,
                  OrderByField = &quot;id&quot;
              }
};
var result = await manager.GetSampleDocumentsAsync(settings);
</code></pre><h2 id="filter">Filter</h2>
<p>  Powerful <strong>search engine</strong>. Build <strong>smart</strong> search functions or filters. Easily access to your datasets with <strong>simple queries</strong>, <strong>logical expressions</strong> and <strong>wild cards</strong>. Manage your language dependencies using <strong>optimal tokenizer</strong>.</p>
<p>You can find more details about the Filter mechanism <a href="http://developers.slamby.com/api/#filter">here.</a></p>
<p> <em>Example:</em></p>
<pre><code>var manager = new DocumentManager(configuration, &quot;DATASET_NAME&quot;);
var settings = new DocumentFilterSettings {
    Filter = new Filter {
        Query = &quot;title:michelin&quot;,
    TagIds = new List&lt;string&gt; { &quot;1&quot; },
    },
    Pagination = new Pagination {
        Limit = 100,
        Offset = 0,
        OrderByField = &quot;title&quot;,
        OrderDirection = OrderDirectionEnum.Asc
    }
};
var result = await manager.GetFilteredDocumentsAsync(settings);
</code></pre><h2 id="processes">Processes</h2>
<p>There are long running tasks in the Slamby API. These requests are served in async way. These methods returns with a Process object.</p>
<h3 id="get-process">Get Process</h3>
<p><em>Example:</em></p>
<pre><code>var processManager = new ProcessManager(_configuration);
var response = processManager.GetProcessAsync(processId));
</code></pre><h3 id="get-processes">Get Processes</h3>
<p>If the parameter is <code>true</code> then you get all processes, if it&#39;s <code>false</code> (default), then you get only the active processes.</p>
<p><em>Example:</em></p>
<pre><code>var allStatus = true;
var processManager = new ProcessManager(_configuration);
var response = processManager.GetProcessesAsync(allStatus));
</code></pre><h3 id="cancel-a-process">Cancel a Process</h3>
<p><em>Example:</em></p>
<pre><code>var processManager = new ProcessManager(_configuration);
var cancelRespone = await processManager.CancelProcessAsync(process.Id);
</code></pre><h2 id="services">Services</h2>
<p>You can quickly create a data processing service from the available service templates. Manage your data processing with services, run different tests, run more data management services parallelly.</p>
<h3 id="create-service">Create Service</h3>
<p><em>Example:</em></p>
<pre><code>var service = new Service()
            {
                Name = &quot;Test service&quot;,
                Description = &quot;This is a test service&quot;,
                Type = ServiceTypeEnum.Classifier
            };
var result = await serviceManager.CreateServiceAsync(service);
var createdService = result.ResponseObject;
</code></pre><blockquote>
<p><strong>Tip:</strong> The ID of the Service is generated by the API.</p>
</blockquote>
<h3 id="get-service-list">Get Service List</h3>
<p><em>Example:</em></p>
<pre><code>var serviceManager = new ServiceManager(_configuration);
var servicesResponse = await serviceManager.GetServicesAsync();
</code></pre><h3 id="get-service">Get Service</h3>
<p><em>Example:</em></p>
<pre><code>var serviceManager = new ServiceManager(_configuration);
var serviceResponse = await serviceManager.GetServiceAsync(serviceId);
</code></pre><h3 id="update-service">Update Service</h3>
<p>You can modify only the <code>Name</code> and <code>Description</code> properties.</p>
<p><em>Example:</em></p>
<pre><code>var serviceManager = new ServiceManager(_configuration);
createdService.Name = &quot;Modified name&quot;;
createdService.Description = &quot;Modified description&quot;;
var modifyResponse = await serviceManager.UpdateServiceAsync(createdService.Id, createdService);
</code></pre><h3 id="delete-service">Delete Service</h3>
<p><em>Example:</em></p>
<pre><code>var serviceManager = new ServiceManager(_configuration);
var deleteResponse = await serviceManager.DeleteServiceAsync(createdService.Id);
</code></pre><h2 id="classifier-services">Classifier Services</h2>
<p>Service for text classification. Create a classifier service from a selected dataset, specify your settings and use this service API endpoint to classify your incoming text.</p>
<h3 id="get-classifier-service">Get Classifier Service</h3>
<p><em>Example:</em></p>
<pre><code>var classifierServiceManager = new ClassifierServiceManager(_configuration);
var classifierServiceResponse = await classifierServiceManager.GetServiceAsync(serviceId);
</code></pre><h3 id="prepare-classifier-service">Prepare Classifier Service</h3>
<blockquote>
<p><strong>Tip:</strong> You can limit used thread count for this function in the configuration object</p>
</blockquote>
<p><em>Example:</em></p>
<pre><code>var classifierServiceManager = new ClassifierServiceManager(_configuration);
var classifierPrepareSettings = new ClassifierPrepareSettings()
        {
            DataSetName = &quot;example_dataset&quot;,
            NGramList = new List&lt;int&gt;() { 1, 2 }
        };
var prepareResponse = await classifierServiceManager.PrepareServiceAsync(serviceId, classifierPrepareSettings);
var process = prepareResponse.ResponseObject;
</code></pre><h3 id="activate-classifier-service">Activate Classifier Service</h3>
<p><em>Example:</em></p>
<pre><code>var classifierServiceManager = new ClassifierServiceManager(_configuration);
var classifierActivateSettings = new Models.Services.ClassifierActivateSettings()
{
    NGramList = new List&lt;int&gt;() { 1 }
};
var activateResponse = await classifierServiceManager.ActivateServiceAsync(serviceId, classifierActivateSettings);
</code></pre><h3 id="deactivate-classifier-service">Deactivate Classifier Service</h3>
<p><em>Example:</em></p>
<pre><code>var classifierServiceManager = new ClassifierServiceManager(_configuration);
deactivateResponse = await classifierServiceManager.DeactivateServiceAsync(classifierServiceId);
</code></pre><h3 id="classifier-service-recommendation">Classifier Service Recommendation</h3>
<p><em>Example:</em></p>
<pre><code>var classifierServiceManager = new ClassifierServiceManager(_configuration);
var classifierRecommendationRequest = new Models.Services.ClassifierRecommendationRequest()
    {
        Text = &quot;categorize this text&quot;,
        NeedTagInResult = true,
        Count = 5
    };
var recommendResponse = (await classifierServiceManager.RecommendServiceAsync(serviceId, classifierRecommendationRequest));
</code></pre><h3 id="classifier-service-export-dictionaries">Classifier Service Export Dictionaries</h3>
<p><em>Example:</em></p>
<pre><code>var classifierServiceManager = new ClassifierServiceManager(_configuration);
var settings = new ExportDictionariesSettings
    {
        NGramList = new List&lt;int&gt; { 1, 2 },
        TagIdList = new List&lt;string&gt; { &quot;123&quot;, &quot;44&quot; }
    };
var resultProcess = (await classifierServiceManager.ExportDictionariesAsync(serviceId, settings));
</code></pre><h2 id="prc-services">Prc Services</h2>
<p>Service for document recommendation. Create a prc service from a selected dataset, specify your settings and use this service API endpoint to get similar documents for your text.</p>
<h3 id="get-prc-service">Get Prc Service</h3>
<p><em>Example:</em></p>
<pre><code>var prcServiceManager = new PrcServiceManager(_configuration);
var prcServiceResponse = await prcServiceManager.GetServiceAsync(serviceId);
</code></pre><h3 id="prepare-prc-service">Prepare Prc Service</h3>
<p><em>Example:</em></p>
<pre><code>var prcServiceManager = new PrcServiceManager(_configuration);
var prcPrepareSettings = new PrcPrepareSettings()
        {
            DataSetName = &quot;example_dataset&quot;,
            TagIdList = new List&lt;int&gt;() { &quot;10&quot;, &quot;11&quot; }
        };
var prepareResponse = await prcServiceManager.PrepareServiceAsync(serviceId, prcPrepareSettings);
var process = prepareResponse.ResponseObject;
</code></pre><h3 id="activate-prc-service">Activate Prc Service</h3>
<blockquote>
<p><strong>Tip:</strong> You can limit used thread count for this function in the configuration object</p>
</blockquote>
<p><em>Example:</em></p>
<pre><code>var prcServiceManager = new PrcServiceManager(_configuration);
var prcActivateSettings = new Models.Services.PrcActivateSettings()
{
    FieldsForRecommendation = new List&lt;string&gt;() { &quot;title&quot; }
};
var activateResponse = await prcServiceManager.ActivateServiceAsync(serviceId, prcActivateSettings);
</code></pre><h3 id="deactivate-prc-service">Deactivate Prc Service</h3>
<p><em>Example:</em></p>
<pre><code>var prcServiceManager = new prcServiceManager(_configuration);
deactivateResponse = await prcServiceManager.DeactivateServiceAsync(prcServiceId);
</code></pre><h3 id="prc-service-recommendation">Prc Service Recommendation</h3>
<p><em>Example:</em></p>
<pre><code>var prcServiceManager = new PrcServiceManager(_configuration);
var prcRecommendationRequest = new Models.Services.PrcRecommendationRequest()
    {
        Text = &quot;get similar documents for this text&quot;,
        NeedDocumentInResult = true,
        Count = 5,
        TagId = &quot;10&quot;
    };
var recommendResponse = (await prcServiceManager.RecommendServiceAsync(serviceId, prcRecommendationRequest));
</code></pre><h3 id="prc-service-export-dictionaries">Prc Service Export Dictionaries</h3>
<p><em>Example:</em></p>
<pre><code>var prcServiceManager = new PrcServiceManager(_configuration);
var settings = new ExportDictionariesSettings
    {
        TagIdList = new List&lt;string&gt; { &quot;123&quot;, &quot;44&quot; }
    };
var resultProcess = (await prcServiceManager.ExportDictionariesAsync(serviceId, settings));
</code></pre><h2 id="status">Status</h2>
<p>Returns with version, processor, memory and disk information about the API server.</p>
<p><em>Example:</em></p>
<pre><code>var statusManager = new StatusManager(_configuration);
var resultStatus = await statusManager.GetStatusAsync();
</code></pre>